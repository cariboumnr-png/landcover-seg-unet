# file names for artifacts during cache creation
artifacts:
  # following are present for all datasets
  # block layout information
  blocks:
    - name: layout_dict
      path: layout_dict.pkl
    - name: layout_meta
      path: layout_meta.pkl
    - name: square
      path: square_blocks.json
    - name: valid
      path: valid_blocks.json
  # image statistics from training/inference blocks
  image:
    - name: stats
      path: image_stats.json
  # block-domain assignment
  domain:
    - name: by_block
      path: domain.json
  # following are present if labels provided (for training)
  # label counts
  label:
    - name: count_global
      path: label_count_global.json
    - name: count_training
      path: label_count_training.json
  # block scores for label distribution
  scoring:
    - name: by_block
      path: scores.json
  # training/validation block file list
  split:
    - name: training
      path: blocks_training.json
    - name: validation
      path: blocks_validation.json

# block generation parameters
blocks:
  # square block size in pixels
  size: 256
  # overlap between neighboring blocks in pixels
  overlap: 0

# filtering thresholds for valid blocks
filters:
  # minimum valid pixel ratio threshold
  valid_px_thres: 0.75
  # maximum water pixel ratio threshold
  water_px_thres: 1.0

# flags
flags:
  # routine check on existing npz cache files
  overwrite_layout: false
  check_npz: true
  overwrite_cache: false
  validate_cache: false
  overwrite_domain: false
  overwrite_counts: false
  overwrite_scores: false
  overwrite_split: false
  overwrite_stats: false

# block scoring parameters
scoring:
  # Layer to focus on
  layer: 'layer1'
  # Inverse distribution alpha
  alpha: 0.6
  # L1 weight reward beta
  beta: 0.8
  # L1 weight reward epsilon
  epsilon: 1e-12
  # classes to reward (1-based)
  reward: [3, 5]
